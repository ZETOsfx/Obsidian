#### <font style="color:#03b1fc">Система памяти ЭВМ</font>

**Кратко:** память нужна для хранения программ и данных.

> "В идеале хотелось бы иметь бесконечную память с моментальным доступом к каждому хранящемуся значению. Мы вынуждены признать возможность построения иерархии памятей, каждая из которых по сравнению с предыдущей имеет больший объем, но и большее время доступа." 
> 	*(с) А. У. Беркс, Х. Х. Гордстайн, Дж. Фон Нейман*

Рост производительности процессоров сильно опережает рост производительности оперативной памяти.

Современные ОП дают пропускную способность в 6% от необходимой, в таком случае требуется достать быстродействующую память. 

<font style="color:#ffb640">Это быстродействие достигается за счет</font>: 
- Многопортовой организации кэшей
- Конвейерной организации кэшей
- Использованием нескольких уровней кэшей
- Отдельных кэшей первого и иногда второго уровней для каждого ядра
- Раздельных кэшей команд и данных на первом уровне

---
#### <font style="color:#03b1fc">Принцип локальности по обращению</font>

1. <font style="color:#ffb640">Пространственная локальность программ</font>. С высокой вероятностью адрес очередной команды программы следует непосредственно за адресом, по которому были считана текущая команды. 
2. <font style="color:#ffb640">Пространственная локальность данных</font>. Обрабатываемые данные, как правило, структурированы, и такие структуры хранятся в последовательных ячейках памяти. 
3. <font style="color:#ffb640">Временная локальность</font>. Программы, как правило, содержат множество циклов и подпрограмм, которые могут многократно повторяться в течение некоторого интервала времени. 

> Принцип локальности часто облачают в численную форму и представляют в виде правила "90/10": 90% времени работы ОП связано с обращениями к 10% ее объема. 

<font style="color:#03b1fc">Иерархия запоминающих устройств</font>:
1. *Регистры процессора*: N * 100 байт / 300 пс.
2. *Кэш L1*: 64-128 КБайт / 1 нс
3. *Кэш L2*: 256 КБайт / 3-10 нс
4. *Кэш L3*: 2-4 МБайт / 10-20 нс
5. *RAM*: 4-16 ГБайт / 50-100 нс
6. *Внешняя память*: 10-16 ТБайт / 5-10 мс

Характеристики систем памяти: 
- Место расположения 
	- процессорная
	- внутренняя 
	- внешняя
- Емкость в организации (измеряется в байтах)
- Единицы пересылки (определяются шириной шины данных)
- Метод доступа: 
	- **Последовательный** : информация хранится в виде последовательных блоков данных, для получения определенной записи необходимо прочитать все предыдущие.
	- **Прямой** : каждая запись имеет уникальный адрес, отражающий ее физическое размещение на носителе (пример: магнитный диск)
	- **Производный** : каждая ячейка имеет уникальный физический адрес. Обращения к любой ячейке занимает одно и то же время и может производиться в любой последовательности.
	- **Ассоциативный** : осуществляется доступ не по адресу, а по метке (пример: кэш-память)
- Время доступа (через какое время данные будут доступны; через какое время можно делать повторное обращение памяти; необходима выдержка для перезаписи)
- *Быстродействие* (с какой скоростью происходит получение)
	- **Время доступа** : время с момента поступления адреса до момента, когда данными можно воспользоваться
	- **Длительность цикла памяти или период обращения** 
	- **Скорость передачи** : скорость, с которой данные могут передаваться в память или из нее. Для современных ЗУ характерно обращение к группе слов (пакету).
- *Физичесий тип* 
	- полупроводниковая память
	- память с магнитными носителями
	- память с оптическими носителями
- Стоимость хранения одного бита информации (оценка стоимости памяти)

Закономерность типов ЗУ:
- Чем меньше время доступа, тем выше стоимость хранения бита
- Чем больше емкость, тем ниже стоимость хранения бита, но больше время доступа. 

**По мере движения вниз по иерархической структуре памяти:**
1. Уменьшается соотношение "стоимость/бит"
2. Возрастает емкость
3. Растет время доступа

**Для оценки эффективности иерархической организации ОП:**
- <font style="color:#ffb640">Коэффициент попадания</font> : отношение числа обращений к памяти, при котором произошло попадание к общему числу обращений.
- <font style="color:#ffb640">Коэффициент промахов</font> : обратен КП.
- <font style="color:#ffb640">Время обращения при попадании</font> : время, необходимое для поиска нужной информации
- <font style="color:#ffb640">Потеря на промах</font> : время, требуемое для замены блоков в памяти более высокого уровня на блок с нужными данными в ЗУ следующего уровня.

**Описание уровней иерархии ЗУ предполагает конкретизацию 4х моментов:**
- <font style="color:#ffb640">Размещение блока</font> - допустимого места в расположения блока на примыкающим сверху уровне иерархии
- <font style="color:#ffb640">Идентификация блока</font> - способа нахождения блока на примыкающем сверху уровне.
- <font style="color:#ffb640">Замещение блока</font> - выбора блока, замещаемого при промахе с целью освобождения места для нового блока. 
- <font style="color:#ffb640">Согласования копий (стратегии записей)</font> - обеспечение согласованности копий одних и тех же блоков, расположенных на разных уровнях иерархии. 

В динамических ЗУ данные хранятся в виде зарядов емкости **МОП - структур** (метал-окись-полупроводник). Основой запоминающего устройства является конденсатор небольшой емкости. За счет этого в кристалле ИС можно разместить в 4-5 раз больше ЗЭ (запоминающих элементов) чем в кристалле SRAM. 

***ЛЗС*** - линия записи-считывания. Проходит через все элементы памяти. 

> При записи потенциал линии ЛЗС передается на конденсатор, определяя его состояние. 
> 
   При считывании информация с конденсатора, хранимая в виде заряда должна быть передана на ЛЗС. Любое обращение приводит к разрушению в запоминающем элементе, поэтому любое обращение сопровождается восстановлением. 

![[DRAM.jpg]]

**Цикл** - интервал между соседними обращениями памяти. 

В начале считывания выполняется предзаряд - зарядка ЛЗС до Ucc/2. Далее последовательно происходит обращение к ЗЭ, после каждого из которых необходимо восстановление считанной ячейки (при +∆U необоходима зарядка на +, при -∆U необходим - заряд). 

---
### Классификация ЗУ

![[ОЭВМ2-12.jpg]]

---
Semen: [[О ЭВМ - Семинар 1]]
Next door: [[О ЭВМ - Лекция 2]]
