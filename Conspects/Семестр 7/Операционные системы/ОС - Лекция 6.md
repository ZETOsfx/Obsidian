# Работа файловой системы

**Файловая система** :
	1. *подсистема ОС*, ориентированная на управление внешней памятью. Под внешней памятью понимаем любые носители для долговременного хранения памяти (hard, flash, магнитные диски и ленты ...); 
	2. *абстракция*, которая систематизирует запись данных на диск. 

**Файл** - проименнованный набор данных, представляемый как единое целое.

Сегодня все файлы во всех ОС являются файлами *последовательного доступа* - получить данные можно только "байт за байтом", считывая весь поток. 

С точки зрения программирования это более удобное решение, поскольку любая программа понимает, что для работы с файлами достаточно поочередно их считать. 

Для ОС нет разницы в отношении расширения файла. Данные пометки существуют лишь для прикладных программ.

---
#### Физические принципы взаимодействия с файлами

"Блочные" устройства для работы с файлами используют буфер, считывающий файл в виде структуры блоков. 

Для удобства работы буферов бывает несколько, и часто эти буфера работают по качающемуся принципу: пока идет проход по одному блоку, за ним считывается уже следующий. 

---
#### Размещение файлов на диске

**Размещение непрерывным участком** - наиболее простой, поскольку для записи требуется минимальная метаинформация (имя, адрес начала участка, размер). 

**Размещение на несколько различных участков** - позволяет записывать на диск более большие файлы, однако если подряд идет несколько блоков, в любом случае необходимо связать данные ссылками - даже при ненадобности. 

<mark style="background: #ABF7F7A6;">Данный способ можно усовершенствовать</mark> - если подряд идущие блоки являются соседними физически, их объединяют в более крупные блоки, чтобы сократить число указателей опираясь на работу с более крупными непрерывными участками.

**Метод с индексными блоками** - первый блок вместо данных содержит таблицу индексов.
В данном случае каталог, хранящийся в отдельном месте на диске в виде файла, либо специально выделенной зоне, содержит в себе "метки", устанавливающие порядок работы с блоками данных в пределах каждого файла. 

---

Next door: 