
**Задачи проектирования**
- Отображение объектов предметной области средствами модели данных
- Отображение связей объектов 
- Достаточность представления предметной области для пользователей 
- Формирование ограничений целостности
- Минимизация аномалий

---
### Проектирование БД в реляционной модели

- Плохое отображение семантики 
- Трудно моделировать сложные предметные области на основе отношений
- Отсутствие формальных правил для преобразования требований предметной области в схему БД
- Для сложных систем не всегда можно однозначно отделить сущности отсвязей

 **Вывод:** необходимость использования моделей данных с лучшим отображением семантики данных.

##### Проектирование с использованием семантических моделей

- Формирование концептуальной схемы данных  
- Преобразование к логической схеме данных на основе некоторой модели данных  
- Преобразование к физической схеме данных

---
### Модель Сущность-Связь (ER)

**Графическое представление** - диаграмма сущность-связь (ER-диаграмма)  

*Понятия ER-модели:*
- Сущность, тип сущности
- Связь, тип связи
- Атрибут, тип данных, домен
- Ключи
- Ограничения целостности

*Ограничения:*
- сущности должны быть отличимы
- связи бинарные, типизированные

---
### Концептуальное проектирование

**Этапы:**
- Выделение сущностей
- Определение связей
- Атрибуты, типы данных, домены
- Ключи
- Ограничения целостности
    - допустимые значения
    - разрешенные значения
    - существующие значения

---
### Выделение типов сущностей

- Работа бизнес аналитика, проектировщика БД
- Выяснение потребностей и представления предметной области длякаждой роли пользователя
- Выделяются независимые типы сущностей
- Отбрасываются “ненужные”
- Именование типов сущностей

---
### Определение связей

Наиболее сложный/творческий процесс Типы связей:
- Один ко многим
- Многие к одному
- Многие ко многим
- Один к одному

Кратность связей
- 1  
- 0..1 
- 0..n 
- 1..n

---
### Определение атрибутов

- Выделяются атрибуты типов сущностей
- Выделяются атрибуты связей
- Простые и составные атрибуты
- Определение типов данных, доменов
- Именование атрибутов

----
### Выбор ключей

Определяются ключевые атрибуты выбирается первичный ключ

- Простота  
- Минимальность  
- Редкие изменения

Для слабых сущностей вводятся синтетические ключевые атрибуты.

---
### Логическое проектирование БД

Реализация схемы данных на основе выбранной модели.  
Для РМД может быть в значительной степени автоматизирован переход от концептуальной модели к логической РМД. 

**Логическая модель:**
- набор схем отношений
- выделенные первичные ключи
- выделенные внешние ключи

**Правила перехода:**
- Каждый простой тип сущности отображается в отношение
- Атрибуты ER-модели отображаются в атрибуты отношений
- Компоненты уникального идентификатора отображаются в первичный ключ
- Связи один к одному и один ко многим отображаются в виде внешних ключей
- Связи многие ко многим отображаются с созданием дополнительного отношения
- Сложные связи (более, чем между двумя типами сущностей) декомпозируются с выделением нового типа сущности
- Многозначные атрибуты декомпозируются с выделением нового типа сущности

\+ **Нормализация** ([[БД - Нормализация]])

---

ORM: [[БД - Использование ORM]]
