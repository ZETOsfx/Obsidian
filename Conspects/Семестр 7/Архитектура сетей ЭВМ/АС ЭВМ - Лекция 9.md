# Протокол IPsec

_IPsec (Internet Protocol Security)_ — это набор протоколов, которые взаимодействуют друг с другом для обеспечения безопасной передачи IP-пакетов по незащищенным сетям.

_IP-пакет_ — это блок данных, который передается по компьютерной сети. Он имеет определенную структуру и состоит из трех основных компонентов:

![[IP-pack.png]]

1. Заголовок — содержит информацию об адресе отправителя и получателя и типе данных.
2. Полезная нагрузка — информация, которую хочет передать пользователь.
3. Трейлер — дополнительная информация.

Протоколы IPsec используют, чтобы передаваемые данные сохранили:

- **Целостность** — защита данных от потери, изменения, а также дублирования при передаче.
- **Аутентичность** — данные будут переданы от надежного источника.
- **Конфиденциальность** — зашифрованные данные защищены от несанкционированного просмотра.

---
### Важность IPsec

Сетевые соединения по умолчанию не зашифрованы. Например, протоколы сетевого взаимодействия TCP/IP предназначены только для подключения и доставки. При этом передаваемые данные открыты и доступны для просмотра третьими лицами. Именно поэтому для обеспечения безопасной передачи данных необходимо использовать протоколы безопасности IPsec. Они создают своеобразную оболочку вокруг данных, которые отправляются по незащищенным сетям, тем самым обеспечивая безопасность передачи.

---
### Архитектура IPsec

Рассмотрим архитектуру IPsec, чтобы понимать, каким образом работает этот инструмент обеспечения безопасности данных.

![[ipsec.png | 500]]

#### Первый уровень

Здесь расположены [AH](https://cloud.yandex.ru/docs/glossary/ipsec#ipsec-ah) и [ESP](https://cloud.yandex.ru/docs/glossary/ipsec#ipsec-esp) протоколы, которые защищают данные на всех этапах процесса передачи. Именно эти протоколы реализуют основные функции IPsec — аутентификацию и шифрование данных и являются ключевыми элементами IPsec.

##### Протокол AH (Authentifitication Header)

Протокол AH обеспечивает:

- **Аутентификацию** — пользователь может убедиться, что действительно взаимодействует с теми, кого он ожидает.
- **Целостность передаваемых данных** — пользователь может обнаружить изменение данных в процессе передачи.
- **Защиту данных от воспроизведения** — данные не могут быть воспроизведены в сети злоумышленниками.

Протокол AH создает очень надежную защиту для содержимого IP-пакета, поскольку следит за тем, чтобы в него не было внесено каких-либо изменений. Однако, это же делает его несовместимым с сетевым режимом NAT (Network Address Translation). Такое ограничение связано с тем, что NAT преобразует IP-адреса при передаче IP-пакетов.

Также в протоколе AH не предусмотрены средства защиты конфиденциальности переданных данных — злоумышленники не смогут изменить данные, но при этом могут их прочитать.

##### Протокол ESP (Encapsulating Security Payload)

Протокол ESP, так же как и AH, обеспечивает аутентификацию и целостность IP-пакета. Однако, помимо это он еще применяется для сохранения конфиденциальности передаваемых данных с помощью шифрования. При этом для ESP необязательно задействование всех этих функций одновременно. Однако, алгоритмы обеспечения конфиденциальности данных необходимо использовать в любом случае.

Обычно протоколы ESP и AH применяют независимо, хотя их совместное применение также возможно.

#### Второй уровень

Функции IPsec реализуются с помощью конкретных алгоритмов, расположенных на втором уровне архитектуры.

Аутентификация в IPsec реализуется при помощи специальных алгоритмов в протоколах AH и ESP. Так, например, стандартные для IPsec алгоритмы аутентификации [HMAC](https://ru.wikipedia.org/wiki/HMAC) используют общий секретный ключ для участников соединения. Алгоритмы HMAC являются обязательными для протокола AH и факультативными — для ESP. Подробнее о процессе аутентификации читайте в разделе [Аутентификация в IPsec](https://cloud.yandex.ru/docs/glossary/ipsec#ipsec-authentication).

Протокол ESP также поддерживает разные алгоритмы шифрования. Среди них — DES, 3 DES и AES. Это помогает еще больше защитить IP-пакет — чтобы получить доступ к информации, необходимо не только расшифровать данные, но и понять, какие именно алгоритмы применялись для шифрования. Подробнее о шифровании читайте в разделе [Шифрование в IPsec](https://cloud.yandex.ru/docs/glossary/ipsec#ipsec-encryption).

#### Третий уровень

Здесь расположен DOI — домен интерпретации. Это элемент, который хранит информацию об алгоритмах и протоколах, которые были применены. Применение DOI обусловлено тем, что протоколы AH и ESP могут поддерживать разные алгоритмы.

#### Четвертый уровень — Протокол IKE (Internet Key Exchange)

Протокол IKE — своего рода фундамент IPsec. Он применяется для создания политики безопасности соединения, благодаря этому отправитель и получатель могут согласовать, с помощью каких алгоритмов будет выполнена аутентификация и шифрование. Также этот протокол обеспечивает генерацию и распределение ключей между участниками защищенного соединения. Подробнее о работе протокола IKE читайте в разделе [Управление ключами в IPsec](https://cloud.yandex.ru/docs/glossary/ipsec#ipsec-key-management).

---
**SAD (Security Associations Database)** - база данных, хранит все SA. Каждый SA имеет уникальный маркер:
- индекс параметров безопасности 
- IP-адрес назначения 
- идентификатор протокола безопасности (ESP / AH)

*В SAD содержатся:*
- AH: алгоритмы аутентификации
- AH: секретный ключ шифрования 
- ESP: алгоритм шифрования 
- ESP: секретный ключ шифрования 
- ESP: использование аутентификации
- параметры для обмена ключами 
- ограничения маршрутизации
- политика IP-фильтрации

---
**Протокол IKE (Internet Key Exchange)** - стандартный протокол набора протоколов *IPsec*, используется для обеспечения защищённого взаимодействия в виртуальных частных сетях. Предназначение IKE — защищенное согласование и доставка идентифицирующей информации для "ассоциации безопасности" (SA). Основан на протоколе Oakley.


*Больше информации по IPsec*: https://cloud.yandex.ru/docs/glossary/ipsec

----
# OpenVPN 

**OpenVPN** — свободная реализация технологии виртуальной частной сети (VPN) с открытым исходным кодом для создания зашифрованных каналoв типа точка-точка или сервер-клиенты между компьютерами. Она позволяет устанавливать соединения между компьютерами, находящимися за NAT и сетевым экраном, без необходимости изменения их настроек. **OpenVPN** была создана Джеймсом Йонаном (James Yonan) и распространяется под лицензией GNU GPL.

---
# Сети X.25

Сети Х.25 являются первой сетью с коммутацией пакетов и на сегодняшний день самыми распространенными сетями с коммутацией пакетов, используемыми для построения корпоративных сетей. Сетевой протокол X.25 предназначен для передачи данных между компьютерами по телефонным сетям. Сети Х.25 разработаны для линий низкого качества с высоким уровнем помех (для аналоговых телефонных линий) и обеспечивают передачу данных со скоростью до 64 Кбит/с. Х.25 хорошо работает на линиях связи низкого качества благодаря применению протоколов подтверждения установления соединений и коррекции ошибок на канальном и сетевом уровнях. 

Стандарт Х.25 определяет интерфейс "пользователь - сеть" в сетях передачи данных общего пользования или “интерфейс между оконечным оборудованием данных и аппаратурой передачи данных для терминалов, работающих в пакетном режиме в сетях передачи данных общего пользования”. Другими словами Х.25 определяет двухточечный интерфейс (выделенную линию) между пакетным терминальным оборудованием DTE и оконечным оборудованием передачи данных DCE.

![[x25.jpg]]

![[x25osi.jpg | 345]]

---
# ATM  

**ATM** (Asynchronous Transfer Mode — асинхронный способ передачи данных) сетевая высокопроизводительная технология коммутации и мультиплексирования пакетов. Пакеты представляют собой ячейки (Cell) фиксированного размера в 53 байта, где первые 5 байт используются под заголовок. Является разновидностью быстрой коммутации пакетов (Fast Packet Switching).  
В отличие от синхронного способа передачи данных (STM — Synchronous Transfer  
Mode), А ТМ лучше приспособлен для предоставления услуг передачи данных с сильно различающимся или изменяющимся битрейтом.  
Основы технологии А IM были разработаны независимо во Франции и США в 1970-х  
двумя учеными  
1— Jean-Pierre Coudreuse (исследовательская лаборатория France Telecom)  
• Sandy Fraser (инженер Bell Labs). Они оба хотели создать такую архитектуру, которая бы осуществляла транспортировку как данных, так и голоса на высоких скоростях, и использовала сетевые ресурсы наиболее эффективно.  
Компьютерные технологии создали возможность для более быстрой обработки информации и более скоростной передачи данных между системами. В 80-х годах ХХв.

Операторы телефонной связи обнаружили, что неголосовой трафик более важен и начинает доминировать над голосовым! Был предложен проект ISDN, кот. описывал цифровую сеть с коммутацией пакетов, предоставляющую услуги телефонной связи и передачи данных. Цифровые системы передачи, сначала плезиохронные системы (PDH) на основе ИКМ, а затем синхронные системы передачи (SDH) иерархии на основе оптоволокна, позволяли обеспечить передачу данных на высокой скорости с малыми вероятностями двоичных ошибок. Но существующая технология коммутации пакетов (прежде всего, по протоколу Х.25) не могла обеспечить передачу трафика в реальном масштабе времени (например, голоса), и многие сомневались, что когда-либо обеспечит.  
Для передачи трафика в реальном масштабе времени в общественных телефонных сетях для передачи данных и голосового трафика в сетях с широкой полосой пропускания. В конце 80-х Международным телефонным и телеграфным консультативным комитетом  
CCITT (который затем был переименован в ITU-T) был разработан набор рекомендаций по ISDN 2-го поколення, так называемого B-ISDN (широкополосный ISDN), расширения  
ISDN. В качестве режима передачи нижнего уровня для B-ISDN был выбран АТМ. В 1988г. на собрании ITU в Женеве была выбрана длина ячейки АТМ — 53 байт. Это был компромнос между специалистами США, которые предлагали длину ячейки 64 байта и специалистами Европы, предлагавшими длину ячейки 32 байта. Ни одна сторона не смогла убедительно доказать преимущество своего варианта, поэтому в итоге объем «полезной» нагрузки составил 48 байт, а для поля заголовка (служебных данных) был выбран размер 5 байт, минимальный размер, на который согласилась ITU. В 1990г. был одобрен базовый набор рекомендаций АТМ. Базовые принципы АТМ положены рекомендацией I.150. Это решение было очень похоже на системы, разработанные  

Coudreuse и Fraser. Отсюда начинается дальнейшее развитие АТМ.  
В 1980-1990 г.г. исследованием и разработкой средств быстрой коммутации пакетов  
(БКП!) для совместной передачи речи и данных занимались и в СССР, а затем в РФ. Этим направлением занимались неск. организаций, кот. внесли довольно большой вклад в развитие технологии АТМ. В частности, проводились научные исследования в этой

---
**АТМ (англ. Asynchronous Transfer Mode** — асинхронный способ передачи данных) - сетевая высокопроизводительная технология коммутации и мультиплексирования, основанная на передаче данных в виде ячеек (cell) фиксированного размера (53 байта), из которых 5 байтов используется под заголовок. В отличие от синхронного способа передачи данных (STM - англ. Synchronous Transfer Mode), ATM лучше приспособлен для предоставления услуг передачи данных с сильно различающимся или изменяющимся битрейтом.

##### СОЗДАНИЕ  
Основы технологии АТМ были разработаны независимо во Франции и США в  
1970-х двумя учеными: Jean-Pierre Coudreuse, который работал в исследовательской лаборатории France Telecom, и Sandy Fraser, инженер Bell Labs. Они оба хотели создать такую архитектуру, которая бы осуществляла транспортировку как данных, так и голоса на высоких скоростях, и использовала сетевые ресурсы наиболее эффективно.  
Компьютерные технологии создали возможность для более быстрой обработки информации и более скоростной передачи данных между системами. В 80-х годах XX века операторы телефонной связи обнаружили, что неголосовой трафик более важен и начинает доминировать над голосовым. Был предложен проект ISDN, который описывал цифровую сеть с коммутацией пакетов, предоставляющую услуги телефонной связи и передачи данных. Цифровые системы передачи, сначала плезиохронные системы (PDH) на основе ИКМ, а затем синхронные системы передачи (SDH) иерархии на основе оптоволокна позволяли обеспечить передачу данных на высокой скорости с малыми вероятностями двоичных ошиоок. Но существующая технология коммутации пакетов (прежде всего, по протоколу Х.25) не могла обеспечить передачу трафика в реальном масштабе времени (например, голоса), и многие сомневались, что когда-либо обеспечит. Для передачи трафика в реальном масштабе времени в общественных телефонных сетях применяли технологию коммутаций каналов (КК). Эта технология идеальна для передачи голоса, но для передачи данных она неэффективна.

Поэтому телекоммуникационная индустрия обратилась к ITU для разработки нового стандарта для передачи данных и голосового трафика в сетях с широкой полосой пропускания. В конце 80-х Международным телефонным и телеграфным консультативным комитетом ССІТТ (который затем был переименован в ITU-T) был разработан набор рекомендаций по ISDN второго поколения, так называемого B-ISDN (широкополосный ISDN), расширения ISDN.  
В качестве режима передачи нижнего уровня для B-ISDN был выбран АТМ. В 1988 г. на собрании ITU в Женеве была выбрана длина ячейки АТМ — 53 байт.  
Это был компромисс между специалистами США, которые предлагали длину ячейки 64 байта и специалистами Европы, предлагавшими длину ячейки 32 байта. Ни одна сторона не смогла убедительно доказать преимущество своего варианта, поэтому в итоге объём «полезной» нагрузки составил 48 байт, а для поля заголовка (служебных данных) был выбран размер 5 байт, минимальный размер, на который согласилась ITU. В 1990 г. был одобрен базовый набор рекомендаций АТМ[6]. Базовые принципы АТМ положены рекомендацией I. 150.  
Это решение было очень похоже на системы разработанные Coudreuse и Fraser.  
Отсюда начинается дальнейшее развитие АТМ.

##### СОВЕТСКИЕ И РОССИЙСКИЕ РАЗРАБОТКИ  
В 1980-х — 1990-х годах исследованием и разработкой средств быстрой коммутации пакетов (БКП) для совместной передачи речи и данных занимались несколько организаций.  
ЛНПО «Красная Заря»  
Тему БКП и, как её разновидность, АТМ, разрабатывал отдел под руководством Г. П. Захарова в составе предприятия АООТ НПП «Радуга». Ранее это предприятие было одним из подразделений ЛНПО «Красная Заря». Отдел Захарова получил как теоретические результаты — математические модели, отчёты по проведённым отделомНИР, статьи, книги, студенческие дипломы, кандидатские и докторские диссертации по теме, так и практические результаты: сначала, совместными усилиями специалистов ЛНПО «Красная Заря» и предприятия «Дальняя связь» под техническим руководством специалиста ЛНПО «Красная Заря» (НИИЭТУ) Разживина Игоря Александровича, в 1992 году был создан рабочий макет системы коммутации и приёма ячеек ATM; совместно со специалистом организации «Вектор» Ю. А. Яцуновым в 1993 году разработана принципиальная схема коммутационного элемента (КЭ)для построения двоичного самомаршрутизирующего коммутационного поля (КП). В основу были положены некоторые идеи построения КЭ и КП, опубликованные специалистом из Великобритании Питером Ньюмэном. В самом общем плане такой КЭ описывается схемой «селектор-арбитр». Схема КЭ Яцунова-Разживина предназначалась для микросхем малой степени интеграции популярных и доступных серий,  
выпускавшихся тогда россиискои промышленностью, однако «в железе» воплощена не оыла сознательно, поскольку являлась только промежуточным этапом; затем, на основе принципиальной схемы Яцунова-Разживина был успешно реализован, также под техническим руководством Разживина И. А., КЭ в виде одной специализированной СБИС, которая была разработана специалистом московского ФГУП «НИИМА Прогресс» В. И. Лопашовым, при содействии его коллеги Халтурина В. А., и изготовлена в Москве[16] в январе 1994 года.  
Это позволяло создать коммутационное поле быстрого коммутатора пакетов, или коммутатора ячеек АТМ, на одной печатной плате. Однако дальше выпуска опытной партии СБИС в количестве 10 штук, и внедрения результатов диссертационной работы Разживина И. А. в НИР «НИИМА Прогресс» и ГП НИИ «Рубин», эти работы не пошли по независящим от технических специалистов причинам.

##### 1990-Е ГОДЫ: ПРИХОД АТМ НА РЫНОК  
В начале 1990-х гг. технологии АТМ в мире начинают уделять повышенное внимание. Корпорация Sun Microsystems еще в 1990 г., одна из первых, объявляет о поддержке АТМ[3]. В 1991 году, с учётом, что ССІТТ уже не успевает своевременно предлагать рекомендации по быстроразвивающейся новой технике, создаётся АТМ Forum, консорциум фирм-разработчиков и производителей техники АТМ, для координации и разработки новых практических стандартов и технических спецификаций по технологии АТМ, и сайт с одноименным названием, где все спецификации выкладывались в  
открытый доступ. ССІТТ, уже будучи!TU-T, выдаёт новые редакции своих  
рекомендаций, совершенствуя теоретическую базу АТМ. Представители сферы IT вжурналах и газетах пророчат АТМ большие перспективы. В 1995 г. компания IBM объявила о своей новой стратегии в области корпоративных сетей, основанной на технологии АТМ. Считалось, что АТМ будет существенным подспорьем для Интернета, уничтожив нехватку ширины полосы пропускания и внеся в сети надежность. Dan Minoli, автор многих книг по компьютерным сетям, утверждал, что АТМ будет внедрен в публичных сетях, и корпоративные сети будут соединены с ними таким же образом, каким в то время они использовали frame relay или Х.25. Но к тому времени протокол IP уже получил широкое распространение и сложно было совершить резкий переход на АТМ.  
Поэтому в существующих IP-сетях технологию АТМ предполагалось внедрять как нижележащий протокол, то есть под IP, а не вместо IP. Для постепенного перехода традиционных сетей Ethernet и Token-Ring на оборудование АТМ был разработан протокол LANE, эмулирующий пакеты данных сетей.

##### ПЕРВЫЙ УДАР ПО ATM  
И тем не менее, было также много специалистов ІТ,  
скептически относящихся к жизнеспособности технологии АТМ.  
Как правило, защитниками АТМ были представители телекоммуникационных, телефонных компаний, а противниками — представители компаний, занимавшихся компьютерными сетями и сетевым оборудованием. Steve Steinberg (в журнале Wired) посвятил целую статью скрытой войне между ними. Первым ударом по АТМ были результаты исследовании Bellcore о характере трафика,  
опубликованных в 1994 г.. Эта публикация показала, что трафик в локальных сетях не подчиняется ни одной существующей модели. Трафик LAN на временнойдиаграмме ведет себя как фрактал. На любом временном диапазоне от нескольких миллисекунд до нескольких часов он имеет самоповторяющийся, взрывной характер. АТМ в своей работе все внеурочные пакеты должен хранить в буфере. В случае резкого увеличения трафика, коммутатор АТМ просто вынужден отбрасывать невмещающиеся пакеты, а это означает ухудшение качества обслуживания. По этой причине PacBell потерпела неудачу при первой попытке использовать оборудование АТМ.

##### ПОЯВЛЕНИЕ ГЛАВНОГО КОНКУРЕНТА ATM - GIGABIT ETHERNET  
В конце 90-х появляется технология Gigabit Ethernet, которая начинает конкурировать с АТМ. Главными достоинствами первой является значительно более низкая стоимость, простота, легкость в настройке и эксплуатации. Также, переход  
c Ethernet или Fast Ethernet на Gigabit Ethernet можно было  
осуществить значительно легче и дешевле. Проблему качества обслуживания Gigabit Ethernet мог решить за счет покупки более дешевой полосы пропускания с запасом, нежели за счет умного оборудования. К окончанию 90-х гг. стало ясно, что АТМ будет продолжать доминировать только в глобальных сетях. Продажи свитчей АТМ для WAN продолжали расти, в то время как продажи свитчей  
АТМ для LAN стремительно падали.
  
##### 2000-Е ГОДЫ: ПОРАЖЕНИЕ АТМ  
В 2000-е гг. рынок оборудования АТМ еще был значительным. АТМ широко использовался в глобальных компьютерных сетях, в оборудовании для передачи аудио/видео потоков, как промежуточный слой между физическим и способностым не оолее мотт то в конце десятилетия до начинает  
вытесняться новой технологией IP-VPN[35].  
Свитчи АТМ стали вытесняться  
маршрутизаторами IP/MPLS. B 2006 Broadband Forum выпустил спецификацию  
TR-101 под названием «Migration to Ethernet-Based DSLAggregation», которая  
указывала как построенные на АТМ агрегирующие сети могут мигрировать на построенные на Ethernet агрегирующие сети (в контексте предыдущих архитектур TR-25 и TR-59). В качестве обоснования такого перехода в спецификации сказано, что существующие DSL-архитектуры эволюционируют от сетей «низкая скорость, максимальные усилия» к инфраструктурам, способным поддерживать более высокую скорость передачи и сервисы требующие QoS. мультикаст, а также выполнять требования, которые недопустимо выполнять в АТМ и ате Rea должны почти полность исчезнуть, в то время как К 2014 г.   Broadband Fortm за октяру 20101, переход на глобальном рынке от сетекладу  
коммутацией каналов (TDM, ATM и др.) к IP-сетям уже начался в стационарных сетях и уже затрагивает и мобильные сети. В докладе сказано, что Ethernet позволяет мобильным операторам удовлетворить растущие потреоности
    
##### БАЗОВЫЕ ПРИНЦИПЫ  
СетьАТМ строится на основе соединенных друг с другом АТМ-коммутаторов.  
Технология реализуется как в локальных, так и в глобальных сетях. Допускается совместная передача различных видов информации, включая видео, голос.  
Ячейки данных, используемые вАТМ, меньше в сравнении с элементами данных, которые используются в других технологиях. Небольшой, постоянный размер ячейки, используемый в ATM, позволяет:  
    - Совместно передавать данные с различными классами требований к задержкам в сети, причем по каналам как с высокой, так и с низкой пропускной способностью;  
    - Работать с постоянными и переменными потоками данных;  
    - Интегрировать на одном канале любые виды информации: данные, голос, потоковое аудио- и видеовещание, телеметрия и т.п.;  
    - Поддерживать соединения типа точка-точка, точка-многоточка и многоточка-многоточка.

Frame Relay (ретрансляция  
кадров, FR) — протокол канального уровня сетевой модели  
OSI. Максимальная скорость, допускаемая протоколом FR  
34,368Мбит/с (каналы Е3).  
Коммутация: точка-точка.  
FR был создан в нач. 1990-х в качестве замены протоколу Х.25 для быстрых надежных каналов связи, технология FR архитектурно основывалась на  
Х.25 и во многом сходна с этим протоколом, однако в отличие от  
Х.25, рассчитанного на линии с достаточно высокой частотой  
ошибок, FR изначально ориентировался на физические линии с низкой частотой ошибок, и поэтому большая часть механизмов коррекции ошибок Х.25 в состав стандарта FR не вошла. В разработке спецификации принимали участие многие организации; многочисленные поставщики поддерживают каждую из существующих реализаций, производя соответствующее аппаратное и программное обеспечение.  
FR обеспечивает множество независимых виртуальных соединений (Virtual  
Circuits, VC) в одной линии связи, идентифицируемых в FR-сети по идентификаторам подключения к соединению (DLCI). Вместо средств управления потоком включает функции извещения о перегрузках в сети. Возможно назначение минимальной гарантированной скорости (CIR) для каждого виртуального канала.  
В основном применяется при построении территориально распределенных  
корпоративных сетей, а также в составе решений, связанных с обеспечением гарантированной пропускной способности канала передачи данных (VolP, видеоконференции и т.п.

**Формат кадра**  
- Флаг (1 байт)  
- Адрес (2-4 байт)  
- Данные (переменный размер)  
- FCS (2 байт)  
- Флаг (1 байт)  
  
Каждый кадр начинается и замыкается флагом — последовательностью 01111110. Для предотвращения случайной имитации последовательности битов флага внутри кадра при его передаче проверяется все его содержание между 2 флагами и после каждой последовательности, состоя-щей из 5 идущих подряд бит 1, вставляется бит 0. Эта процедура (Bit Stuffing) обязательна при формировании любого кадра FR, при приеме эти биты 0 отбрасываются.  
• FCS (Frame Check Sequence) — проверочная последовательность кадра служит для обнаружения ошибок и формируется аналогично циклическому коду HDLC.  
• Поле данных имеет минимальную длину в 1 октет, максимальную по стандарту Frame Relay  
Forum - 1600 октетов, однако в реализациях некоторых производителей FR-оборудования допускается превышение максимального размера (до 4096 октетов).  
Поле Адрес кадра Frame Relay, кроме собственно адресной информации, содержит также и дополнительные поля управления потоком данных и уведомлений о перегрузке канала и имеет следующую структуру: // кому не похуй на структуру

##### Виртуальные каналы  
Для передачи данных от отправителя к получателю в сети Frame Relay создаются  
виртуальные каналы, VC (Virtual Circuit), которые бывают 2 видов:  
• Постоянный виртуальный канал, PVC (Permanent Virtual Circuit), который создается между 2 точками и существует в течение длительного времени, даже в отсутствие данных для передачи  
• Коммутируемый виртуальный канал, SVC (Switched Virtual Circuit), который создается между 2 точками непосредственно перед передачей данных и разрывается после окончания сеанса связи  
Протокол Frame Relay ориентирован на установление соединения. Виртуальное  
соединение — постоянное или коммутируемое (PVC или SVC) — необходимо установить прежде, чем 2 узла смогут обмениваться друг с другом информацией. PVC

Стек протоколов Frame Relay  
Технология FR использует для передачи данных технику виртуальных соединений, стек протоколов FR передает кадры (при установленном виртуальном соединении) по протоколам только физического и канального уровней.  
Протокол канального уровня LAP-F (Link  
Access Protocol) имеет 2 режима работы
- основной (Соге) и управляющий (Control).
##### Протоколы модемной связи  
При установке связи между двумя компьютерами модемы должны предоставить друг другу информацию о скорости связи, корректировке ошибок и сжатии данных. Для этого существуют протоколы — стандартизированные алгоритмы работы модема.  
Список стандартных протоколов  
Стандартные протоколы утверждены Международным союзом электросвязи (ITU).  
- V.21 — Обеспечивает скорость передачи данных 300бит/с в дуплексном режиме. Допускает также передачу факсимильных сообщений.  
- V.22 — Скорость составляет 1200бит/с в полудуплексном режиме.  
- V.22bis — Вторая редакция протокола V.22, отличается увеличенной скоростью  
2400 бит/с и допускает дуплексный режим.  
- V.23 — Асимметричный протокол 75бнт/с в восходящем (от пользователя) канале и  
600 клн 1200 бит/с в нисходящем. В конце 1980-х — начале 1990-х годов множество выпускавшихся тогда нестандартных модемов, использовавших нестандартную, как правило реализуемую программно модуляцию маркировались как соответству-ющие стандарту V.23 mode 2. На практике они не были совместимы между собой, а реальная скорость работы более быстрого канала могла колебаться от 300 до 5600 бит/с. Наиболее известным представителем такого типа модемов являлись модемы  
Lexand. Молификация протокола V.23. позволяюшая менять восхоляший и нисходящий канал местами в процессе работы, используется во французской компьютерной сети Minitel. Также существует версия протокола V.27, кот. используется как 4-про-водная версия с фазовой модуляцией 1800Гц.  
- V.29  
А симметричный протокол 2400/2400-4800-7200-9600, позволяющий переключать направление, в кот. работает более скоростной канал, в процессе работы. Являет-ся стандартным для факсов, но в модемах большого распространения не получил в связи с более низкой помехоустойчивостью, чем V.32, и рядом проблем с патентами.  
- V.32 — Дуплексный режим, скорость 4800 и 9600 бит/с, допускает автоматическую настройку скорости передачи.  
- V.32bis — Расширение V.32 до скорости 14400бит/с.  
- V.32terbo — Расширение V.32 до скорости 19200бит/с, а у USR Courier — до 21600бит/с.  
- V.34 — Дуплексный протокол, максимальная скорость 28800бит/с. Может также поддерживать 24000 и 19200 бит/с.
- V.34bis (др название — V.34+). Максимальная скорость 33600бит/с. Пониженные ско-рости: 31200, 24000 и 19200 бит/с.  
- V.42 — Протокол обнаружения и коррекции ошибок для передачи данных с высокими скоростями.   
- V.42bis — Протокол сжатия данных. Допускает переключение из режима сжатия в прозрачный режим и обратно, причем, независимо для каждого направления.  
- V.44 — Протокол сжатия данных.  
- V.70 — Обеспечивает одновременную передачу голоса и данных.
- V.80 — Протокол видеосвязи. Обеспечивает скорость передачи видео до 10 15 кадров в секунду.  
- V.90 — Дуплексный асимметричный высокоскоростной протокол передачи. Скорость в прямом направлении достигает 56000бит/с, а в обратном — 33600бит/с.  
- V.92 — Самый современный протокол. Скорость в прямом направлении 56000бит/с, а  
в обратном — 48600бит/с.  
- V.110 — Протокол для сетей ISDN, '.  
позволяющий также устанавливать соединение с  
модемами на аналоговых линиях. Скорость в синхронном режиме может достигать 64000бит/с.  
- V.120 — Альтернатива протоколу V.110 с использованием протокола LAPD.  
- V.150.1 — Протокол модемной связи поверх IP-телефонин.  
- MNP1, MNP2, MNP3, MNP4 — протоколы обнаруження и коррекции ошибок

![[marsel.png | 150]]
Bell 103 и Bell 212A — применялись в США до принятия стандартов ITU-T V.21 и  
V.22, соответственно  
• Bell 202 — еще один ранний протокол модемной связи, похожий на V.23  
• HST — фирменный протокол компании U.S.Robotics, доступный только в модемах семейства Courier и серверах доступа. Особенностью протокола является адаптивный дуплекс — детектирование потока данных с последующим согласованием большей скорости от передающей стороны к принимающей. Современная скорость - 450/16800 бит/с, в более ранних версиях - 300714400 бит/с и - 300/9600 бит/с. Выдающаяся помехоустойчивость — одно из преимуществ протокола, позволяющая передавать данные на высокой скорости через такие линии, где использование протоколов семейства  
ITU-T аналогичной скорости практически лишено смысла.  
• V.FC или [V.fast](https://vk.com/away.php?utf=1&to=http%3A%2F%2FV.fast) — протокол, разработанный компанией Rockwell. Поддерживает скорость связи от 14400 до 28800 бит/с. Помимо модемов Rockwell, встречался и в старых модемах USRobotics наравне с V.34.  
• К56Пех и х2 — одновременно разработаны компаниями Lucent и Rockwell, с одной стороны, и U.S. Robotics, с другой. Поддерживают скорость связи до 56000 бит/с, но взаимно несовместимы. Использование было актуально до принятия стандарта ITU-T V.90, в настоящее время практического смысла в применении не имеют.

Протоколы передачи факсимильных сообщений  
• V.17ter — Скорость до 19200бит/с, встречается не во всех модемах.  
• V.17 — Скорость до 14400бит/с, используется в современных модемах, но, поскольку большинство факсимильных аппаратов рассчитано на 9600бит/с, на практике преиму-шеств не дает.  
• V.27ter — Скорость 2400-4800 бит/с, встречается в старых модемах, но его поддер-живали и многие более современные модемы.  
• V.29 — Скорость 7200-9600 бит/с, поддерживают все современные модемы.



---

Next door: 