#### Тупики. Методы борьбы с тупиками.

В ОС бывают тупики - программа находится в ожидании события, которого никогда не произойдет.

Речь идёт о получении ресурса в монопольное владение.

Процесс запрашивает ресурс в монопольное владение, получает его, а потом ему нужен новый ресурс 2, но в это время ресурс 2 занят процессом 2. Обоим процессам нужны два этих ресурса (ресурс 1 и 2) по итогу процессы будут находиться в режиме бесконечного ожидания освобождения ресурсов.

Таким образом процессы бесконечно душат друг друга.

---
#### Минута кайфа

Тут шеф что-то неожиданно про грибы сказал

![[ОС5.1.jpg | 250]]

---

**Условия возникновения тупика** *(нарушение одного из условий не допускает тупика):*
- Получение неразделяемых ресурсов в монопольное владение
- Процессы, удерживая данные ресурсы, запрашивают в монопольное владение дополнительные неразделимые ресурсы
- Существует круговая цепь процессов, каждый из которых удерживает в монопольном владении некоторые неразделимые ресурсы, необходимые для других процессов

**Методы разрешения тупиков**
1. *Метод страуса* (игнорирование замкнутого круга процессов в тупике)
	Позволяет не тратить системные ресурсы на постоянное обнаружение тупиков

2. *Метод устранения тупиков* (намеренное нарушение одного из условий существования тупика)
	Эффективность системы может резко упасть
	Требует жесткого регулирования (траты системного ресурса)

3. *Нарушение условий возникновения* 
	Заставить процесс получать все необходимые ресурсы для полного выполнения (ресурсы необходимо где-то хранить и отбирать у уже запущенных процессов) - тупика не возникнет, но это приведет к крайне неэффективному использованию ресурсов (в результате могут запуститься процессы, которые требуют мало ресурсов).

    >"ХЗ КАК ТАКОЕ РЕАЛИЗОВАТЬ НА ПРАКТИКЕ" ⓒ Шеф

4. *Методы обхода тупиков* (более мягкие по затратам ресурсов условия) - тупик таким образом возникнуть все таки может, но распределение ресурсов идет таким образом, чтобы избежать большего числа тупиков)
	**Метод банкира** (рассматривает управление группой одинаковых ресурсов) - удовлетворение запросов на ресурсы только в том случае, когда система находится в надежном состоянии.
	**!НО** Приводит к проблемам:
	- В системе есть ограниченное количество ресурсов
	- Некоторые ресурсы могут ломаться
	- Может быть реализовано динамическое добавление / удаление ресурсов (что делать в этом случае - непонятно)

"КНИГА ДОНАЛЬДА КНУТА: ИНФА СОРТИРОВКА НА МАГНИТНОЙ ЛЕНТЕ"

- Методы обнаружения тупиков (нет мер по предотвращению тупиков, но существует определенный механизм, отслеживающий просадку производительности и запускающий процесс обнаружения тупиков)

- После обнаружения тупика определяет важность находящихся в нем процессов (в случае не высокой важности можно прервать некоторые процессы) - восстановление после тупиков

> "ALTSYSRQ круче чем RESET" ⓒ Шеф

---

Next door: [[Семестр 6/ОС/ОС - Лекция 6]]
